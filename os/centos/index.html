<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>CentOS6 | 91张先生</title>
    <meta name="generator" content="VuePress 1.4.1">
    
    <meta name="description" content="到此一游">
    <link rel="preload" href="/assets/css/0.styles.7d63e62b.css" as="style"><link rel="preload" href="/assets/js/app.6b6d5dc5.js" as="script"><link rel="preload" href="/assets/js/2.87244a79.js" as="script"><link rel="preload" href="/assets/js/3.4f73b2ff.js" as="script"><link rel="prefetch" href="/assets/js/4.e353cf73.js"><link rel="prefetch" href="/assets/js/5.e838505d.js"><link rel="prefetch" href="/assets/js/6.ac2a6126.js"><link rel="prefetch" href="/assets/js/7.6dd4a981.js"><link rel="prefetch" href="/assets/js/8.11d6888a.js"><link rel="prefetch" href="/assets/js/9.7d6ac55b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7d63e62b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/img/logo.png" alt="91张先生" class="logo"> <span class="site-name can-hide">91张先生</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="OS Menu" class="dropdown-title"><span class="title">系统</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Linux
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/os/centos/" class="nav-link router-link-exact-active router-link-active">
  CentOS
</a></li><li class="dropdown-subitem"><a href="/os/rhel/" class="nav-link">
  RHEL
</a></li></ul></li><li class="dropdown-item"><h4>
          Windows
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/os/winserver/" class="nav-link">
  Windows Server
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="CODE Menu" class="dropdown-title"><span class="title">开发维护</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          CODE
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/os/winserver/" class="nav-link">
  Java
</a></li><li class="dropdown-subitem"><a href="/os/winserver/" class="nav-link">
  Python
</a></li><li class="dropdown-subitem"><a href="/os/winserver/" class="nav-link">
  Html
</a></li></ul></li><li class="dropdown-item"><h4>
          数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/os/winserver/" class="nav-link">
  Oracle
</a></li><li class="dropdown-subitem"><a href="/os/winserver/" class="nav-link">
  SQLServer
</a></li><li class="dropdown-subitem"><a href="/os/winserver/" class="nav-link">
  Mysql
</a></li><li class="dropdown-subitem"><a href="/os/winserver/" class="nav-link">
  Redis
</a></li></ul></li><li class="dropdown-item"><h4>
          云平台
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/os/winserver/" class="nav-link">
  阿里云
</a></li><li class="dropdown-subitem"><a href="/os/winserver/" class="nav-link">
  华为云
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="奇淫巧技" class="dropdown-title"><span class="title">奇淫巧技</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/os/winserver/" class="nav-link">
  开发工具
</a></li><li class="dropdown-item"><!----> <a href="/os/winserver/" class="nav-link">
  工作常用
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/91MrZhang" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="OS Menu" class="dropdown-title"><span class="title">系统</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Linux
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/os/centos/" class="nav-link router-link-exact-active router-link-active">
  CentOS
</a></li><li class="dropdown-subitem"><a href="/os/rhel/" class="nav-link">
  RHEL
</a></li></ul></li><li class="dropdown-item"><h4>
          Windows
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/os/winserver/" class="nav-link">
  Windows Server
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="CODE Menu" class="dropdown-title"><span class="title">开发维护</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          CODE
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/os/winserver/" class="nav-link">
  Java
</a></li><li class="dropdown-subitem"><a href="/os/winserver/" class="nav-link">
  Python
</a></li><li class="dropdown-subitem"><a href="/os/winserver/" class="nav-link">
  Html
</a></li></ul></li><li class="dropdown-item"><h4>
          数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/os/winserver/" class="nav-link">
  Oracle
</a></li><li class="dropdown-subitem"><a href="/os/winserver/" class="nav-link">
  SQLServer
</a></li><li class="dropdown-subitem"><a href="/os/winserver/" class="nav-link">
  Mysql
</a></li><li class="dropdown-subitem"><a href="/os/winserver/" class="nav-link">
  Redis
</a></li></ul></li><li class="dropdown-item"><h4>
          云平台
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/os/winserver/" class="nav-link">
  阿里云
</a></li><li class="dropdown-subitem"><a href="/os/winserver/" class="nav-link">
  华为云
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="奇淫巧技" class="dropdown-title"><span class="title">奇淫巧技</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/os/winserver/" class="nav-link">
  开发工具
</a></li><li class="dropdown-item"><!----> <a href="/os/winserver/" class="nav-link">
  工作常用
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/91MrZhang" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>CentOS6</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/os/centos/#前言" class="sidebar-link">前言</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/os/centos/#基础常用" class="sidebar-link">基础常用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/os/centos/#时间校准" class="sidebar-link">时间校准</a></li><li class="sidebar-sub-header"><a href="/os/centos/#打包解包" class="sidebar-link">打包解包</a></li><li class="sidebar-sub-header"><a href="/os/centos/#rsync同步" class="sidebar-link">rsync同步</a></li><li class="sidebar-sub-header"><a href="/os/centos/#防火墙" class="sidebar-link">防火墙</a></li><li class="sidebar-sub-header"><a href="/os/centos/#环境变量" class="sidebar-link">环境变量</a></li><li class="sidebar-sub-header"><a href="/os/centos/#系统配置" class="sidebar-link">系统配置</a></li><li class="sidebar-sub-header"><a href="/os/centos/#系统配置-2" class="sidebar-link">系统配置</a></li><li class="sidebar-sub-header"><a href="/os/centos/#新建用户" class="sidebar-link">新建用户</a></li><li class="sidebar-sub-header"><a href="/os/centos/#文件权限" class="sidebar-link">文件权限</a></li><li class="sidebar-sub-header"><a href="/os/centos/#结束进程" class="sidebar-link">结束进程</a></li><li class="sidebar-sub-header"><a href="/os/centos/#wc计数" class="sidebar-link">wc计数</a></li><li class="sidebar-sub-header"><a href="/os/centos/#grep条件" class="sidebar-link">grep条件</a></li><li class="sidebar-sub-header"><a href="/os/centos/#全局查询" class="sidebar-link">全局查询</a></li><li class="sidebar-sub-header"><a href="/os/centos/#telnet" class="sidebar-link">telnet</a></li><li class="sidebar-sub-header"><a href="/os/centos/#端口使用" class="sidebar-link">端口使用</a></li></ul></li><li><a href="/os/centos/#系统配置-3" class="sidebar-link">系统配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/os/centos/#本地解析" class="sidebar-link">本地解析</a></li><li class="sidebar-sub-header"><a href="/os/centos/#开机启动" class="sidebar-link">开机启动</a></li><li class="sidebar-sub-header"><a href="/os/centos/#定时任务" class="sidebar-link">定时任务</a></li><li class="sidebar-sub-header"><a href="/os/centos/#网络配置" class="sidebar-link">网络配置</a></li><li class="sidebar-sub-header"><a href="/os/centos/#改yum源" class="sidebar-link">改yum源</a></li><li class="sidebar-sub-header"><a href="/os/centos/#最大线程" class="sidebar-link">最大线程</a></li></ul></li><li><a href="/os/centos/#常用脚本" class="sidebar-link">常用脚本</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/os/centos/#自动备份" class="sidebar-link">自动备份</a></li><li class="sidebar-sub-header"><a href="/os/centos/#定时检测" class="sidebar-link">定时检测</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="centos6"><a href="#centos6" class="header-anchor">#</a> CentOS6</h1> <h2 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h2> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>这里写的不是Linux基础教程哈，</p> <p>主要记录一些实用的，简单的，但是百度上一搜，搜半天达不到自己预期效果的那种命令</p></div> <div class="custom-block danger"><p class="custom-block-title">WARNING</p> <p>最重要的是，这些只发生在6版本😎</p></div> <h2 id="基础常用"><a href="#基础常用" class="header-anchor">#</a> 基础常用</h2> <h3 id="时间校准"><a href="#时间校准" class="header-anchor">#</a> 时间校准</h3> <p>单点登录、加解密经常由于服务器时间不准出问题</p> <div class="language-bash extra-class"><pre class="language-bash"><code>ntpdate us.pool.ntp.org
</code></pre></div><p>如果找不到时钟服务器，或者没办法yum，就直接打开北京时间手动对时</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">date</span> -s <span class="token string">&quot;2020-04-15 14:15:00&quot;</span>  
clock -w
</code></pre></div><h3 id="打包解包"><a href="#打包解包" class="header-anchor">#</a> 打包解包</h3> <h4 id="打包"><a href="#打包" class="header-anchor">#</a> 打包</h4> <p>把mubiao这个文件夹，打包成mubiao.tar</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">tar</span> -cvf mubiao.tar mubiao
</code></pre></div><p>把file1 file2 dir1，打包成123.tar</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">tar</span> -cvf <span class="token number">123</span>.tar file1 file2 dir1
</code></pre></div><p>压缩打包，酌情使用，一般也就文本类的压缩率高一些，并且这种打包很费时间</p> <p>把aaa.txt   bbb.txt   ccc.txt打包压缩为一个名叫xxx.tar.gz 压缩包
xvf: 解压缩</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">tar</span> -zcvf xxx.tar.gz aaa.txt bbb.txt ccc.txt
</code></pre></div><h4 id="解包"><a href="#解包" class="header-anchor">#</a> 解包</h4> <p>普通解</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">tar</span> -xvf mubiao.tar
</code></pre></div><p>压缩包解包</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">tar</span> -zxvf apache-tomcat-7.0.75.tar.gz 
</code></pre></div><h3 id="rsync同步"><a href="#rsync同步" class="header-anchor">#</a> rsync同步</h3> <p>碎文件、大文件使用这个命令可以断了续，续了断，比cp强一些</p> <p>其余参数网上搜即可</p> <p>注意一下带/和不带/有一点区别</p> <p>同步之前</p> <p><img src="/assets/img/c001.6c9644ac.png" alt="An image"></p> <p>src不带/,用这个命令同步之后</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">rsync</span> -a -H -v --progress --stats /bbsoft1/database /bbsoft2
</code></pre></div><p><img src="/assets/img/c002.65b04dce.png" alt="An image"></p> <p>src带/，用这个命令同步之后</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">rsync</span> -a -H -v --progress --stats /bbsoft1/database/ /bbsoft2
</code></pre></div><p><img src="/assets/img/c003.069f5384.png" alt="An image"></p> <h3 id="防火墙"><a href="#防火墙" class="header-anchor">#</a> 防火墙</h3> <p>重定向方案</p> <div class="language-bash extra-class"><pre class="language-bash"><code>iptables -t nat -A PREROUTING -p tcp -m tcp --dport <span class="token number">80</span> -j REDIRECT --to-ports <span class="token number">8081</span>
iptables -t nat -A PREROUTING -p tcp -m tcp --dport <span class="token number">443</span> -j REDIRECT --to-ports <span class="token number">8444</span>
iptables -A INPUT -p tcp -m state --state NEW -m tcp --dport <span class="token number">80</span> -j ACCEPT
iptables -A INPUT -p tcp -m state --state NEW -m tcp --dport <span class="token number">8443</span> -j ACCEPT
<span class="token function">service</span> iptables save
<span class="token function">service</span> iptables restart
</code></pre></div><h3 id="环境变量"><a href="#环境变量" class="header-anchor">#</a> 环境变量</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">vi</span> /etc/profile
</code></pre></div><p>打开后，例如我想配置个Java环境</p> <p>那么在后面添加几句，wq即可</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">JAVA_HOME</span><span class="token operator">=</span>/usr/java/jdk1.8.0_131
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token variable">$JAVA_HOME</span>/bin:<span class="token environment constant">$PATH</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">CLASSPATH</span><span class="token operator">=</span>.:<span class="token variable">$JAVA_HOME</span>/lib/dt.jar:<span class="token variable">$JAVA_HOME</span>/lib/tools.jar
</code></pre></div><h3 id="系统配置"><a href="#系统配置" class="header-anchor">#</a> 系统配置</h3> <p>最合适的还是这两句</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">head</span> -n <span class="token number">1</span> /etc/issue 
<span class="token function">cat</span> /proc/cpuinfo <span class="token operator">|</span> <span class="token function">grep</span> name <span class="token operator">|</span> <span class="token function">cut</span> -f2 -d: <span class="token operator">|</span> <span class="token function">uniq</span> -c
</code></pre></div><h3 id="系统配置-2"><a href="#系统配置-2" class="header-anchor">#</a> 系统配置</h3> <p>最合适的还是这两句</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">head</span> -n <span class="token number">1</span> /etc/issue 
<span class="token function">cat</span> /proc/cpuinfo <span class="token operator">|</span> <span class="token function">grep</span> name <span class="token operator">|</span> <span class="token function">cut</span> -f2 -d: <span class="token operator">|</span> <span class="token function">uniq</span> -c
</code></pre></div><h3 id="新建用户"><a href="#新建用户" class="header-anchor">#</a> 新建用户</h3> <p>集群模式，最好都用一样的UID,这里意思就是创建一个uid为700的用户</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">useradd</span> -u <span class="token number">700</span> bbuser
</code></pre></div><h3 id="文件权限"><a href="#文件权限" class="header-anchor">#</a> 文件权限</h3> <p>chown更改所有权</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">chown</span> -R runoob:runoobgroup *
</code></pre></div><p>chmod更改访问权
r=4，可读；w=2，可写；x=1, 可执行</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">chmod</span> <span class="token number">761</span> test.sh
</code></pre></div><p>执行后，代表当前用户对这个文件有所有权限，当前用户的组没有执行权限，其他用户只有执行权限</p> <p>工作中，一般Nas存储777出现的比较多，其余777的情况谨慎使用</p> <h3 id="结束进程"><a href="#结束进程" class="header-anchor">#</a> 结束进程</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">ps</span> -ef <span class="token operator">|</span><span class="token function">grep</span> tomcat
</code></pre></div><p>查出来后，找到第二列的PID</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">kill</span> -9 <span class="token number">4394</span>
</code></pre></div><p>-9比较有效，直接shutdown,生产平台慎用</p> <h3 id="wc计数"><a href="#wc计数" class="header-anchor">#</a> wc计数</h3> <p>一般wc -l用得较多，主要统计返回结果行数，例如查有几个文件</p> <div class="language-bash extra-class"><pre class="language-bash"><code>ll <span class="token operator">|</span><span class="token function">wc</span> -l
</code></pre></div><p><img src="/assets/img/c004.3a69c3fb.png" alt="An image"></p> <p>total、test、test.txt 一共三行，所以返回结果是3</p> <h3 id="grep条件"><a href="#grep条件" class="header-anchor">#</a> grep条件</h3> <p>或条件，-E参数使用</p> <div class="language-bash extra-class"><pre class="language-bash"><code>ll <span class="token operator">|</span><span class="token function">grep</span> -E <span class="token string">'f|k'</span>
</code></pre></div><p>与条件多个grep即可</p> <div class="language-bash extra-class"><pre class="language-bash"><code>ll <span class="token operator">|</span><span class="token function">grep</span> k <span class="token operator">|</span><span class="token function">grep</span> f 
</code></pre></div><p><img src="/assets/img/c005.fe8774f1.png" alt="An image"></p> <h3 id="全局查询"><a href="#全局查询" class="header-anchor">#</a> 全局查询</h3> <p>一般情况下，知道某个字符，想全局查一下在哪里出现</p> <p>这个递归查询命令，比较实用</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">grep</span> -rn <span class="token string">'8443'</span> *
</code></pre></div><p>或者指定文件类型</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">grep</span> -rn <span class="token string">'8443'</span> *.properties
</code></pre></div><h3 id="telnet"><a href="#telnet" class="header-anchor">#</a> telnet</h3> <p>这个命令也非常实用，如果想判断当前的网络环境是否能接通目的业务，那么这个最合理</p> <div class="language-bash extra-class"><pre class="language-bash"><code>telnet <span class="token number">192.168</span>.1.22 <span class="token number">1521</span>
</code></pre></div><p>如果命令通了，那么则证明1521端口不但开通了，并且有服务注册在了1521端口上</p> <h3 id="端口使用"><a href="#端口使用" class="header-anchor">#</a> 端口使用</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">netstat</span> -anp <span class="token operator">|</span><span class="token function">grep</span> <span class="token number">61616</span>
</code></pre></div><p>一般拿这个统计端口并发，效果甚佳</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">netstat</span> -anp <span class="token operator">|</span><span class="token function">grep</span> <span class="token number">8080</span> <span class="token operator">|</span> <span class="token function">wc</span> -l
</code></pre></div><h2 id="系统配置-3"><a href="#系统配置-3" class="header-anchor">#</a> 系统配置</h2> <h3 id="本地解析"><a href="#本地解析" class="header-anchor">#</a> 本地解析</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">vi</span> /etc/hosts
</code></pre></div><p><img src="/assets/img/c006.5836f96f.png" alt="An image">
一般内网环境，允许上网，但是DNS都多多少少有点瑕疵，需要手动解析</p> <p>集群模式的话，服务器之间互相通信，代码里也最好使用主机名，而不使用IP，这样切换主机很方便</p> <p>如果在代码中，各个配置都写死了IP，那很不好管理</p> <h3 id="开机启动"><a href="#开机启动" class="header-anchor">#</a> 开机启动</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">vi</span> /etc/rc.local
</code></pre></div><p><img src="/assets/img/c007.98747f59.png" alt="An image"></p> <p>这个也经常用，一般用在开机挂NAS存储，启动业务服务配置等</p> <h3 id="定时任务"><a href="#定时任务" class="header-anchor">#</a> 定时任务</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">crontab</span> -e
</code></pre></div><p><img src="/assets/img/c008.0db87c4b.png" alt="An image"></p> <p>注意：linux下每个用户都有一个crontab，要注意crontab设定在对应的用户下，不要统一设到root中
crontab表达式，自行去网上搜索即可</p> <h3 id="网络配置"><a href="#网络配置" class="header-anchor">#</a> 网络配置</h3> <h3 id="改yum源"><a href="#改yum源" class="header-anchor">#</a> 改yum源</h3> <h3 id="最大线程"><a href="#最大线程" class="header-anchor">#</a> 最大线程</h3> <h2 id="常用脚本"><a href="#常用脚本" class="header-anchor">#</a> 常用脚本</h2> <h3 id="自动备份"><a href="#自动备份" class="header-anchor">#</a> 自动备份</h3> <h3 id="定时检测"><a href="#定时检测" class="header-anchor">#</a> 定时检测</h3></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">4/15/2020, 4:42:56 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.6b6d5dc5.js" defer></script><script src="/assets/js/2.87244a79.js" defer></script><script src="/assets/js/3.4f73b2ff.js" defer></script>
  </body>
</html>
